---
import { translations } from '../i18n/translations';
const lang = 'es'; // Default language for SSR
---

<section id="certifications" class="py-20 bg-white dark:bg-[#0F1419]">
  <div class="max-w-6xl mx-auto px-4 sm:px-6">
    <!-- Section Header -->
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-bold mb-4 dark:text-[#E4E6EB]" data-i18n="certifications.title">
        Certificaciones
      </h2>
      <p class="text-lg text-[#6B7280] dark:text-[#9CA3AF] max-w-2xl mx-auto" data-i18n="certifications.subtitle">
        Certificados que validan mis conocimientos y habilidades
      </p>
    </div>

    <!-- Certifications Grid -->
<div class="grid md:grid-cols-2 gap-10">

  <!-- Real Certifications -->
  <div>
    <h3 class="text-xl font-semibold mb-6 dark:text-[#E4E6EB]">
      Certificaciones
    </h3>

    <div class="group bg-[#F9FAFB] dark:bg-[#1A1F2E] rounded-2xl border-2 border-[#E5E7EB] dark:border-[#2D3748] hover:border-[#6366F1] transition-all overflow-hidden">

      <!-- Image -->
      <div class="relative overflow-hidden bg-white dark:bg-[#0F1419]">
        <img
          src="/images/certifications/jetpack-certification.jpeg"
          alt="Jetpack Compose Certification"
          class="w-full h-40 object-cover group-hover:scale-105 transition-transform duration-300"
        />
        <div class="absolute top-3 right-3 bg-[#6366F1] text-white px-3 py-1 rounded-full text-xs font-semibold" data-i18n="certifications.badge.verified">
          Verificado
        </div>
      </div>

      <!-- Info -->
      <div class="p-5">
        <h4 class="text-lg font-bold mb-2 dark:text-[#E4E6EB]" data-i18n="certifications.jetpack.title">
          Jetpack Compose for Android Developers
        </h4>

        <p class="text-sm text-[#6B7280] dark:text-[#9CA3AF] mb-3">
          <span data-i18n="certifications.jetpack.issuer">Udemy</span> · 
          <span data-i18n="certifications.jetpack.date">Diciembre 2025</span>
        </p>

        <p class="text-sm text-[#6B7280] dark:text-[#9CA3AF] mb-4" data-i18n="certifications.jetpack.description">
          Certificación en Jetpack Compose, UI moderna, estado, navegación y buenas prácticas de Android.
        </p>

        <a
          href="http://ude.my//UC-1acda8cb-bcd9-4cd2-a197-4a4c46ae793d"
          target="_blank"
          rel="noopener noreferrer"
          class="text-sm font-medium text-[#6366F1] hover:text-[#4F46E5]"
        >
          <span data-i18n="certifications.view">Ver certificado</span> →
        </a>
      </div>
    </div>
  </div>

  <!-- Currently Learning -->
  <div>
    <h3 class="text-xl font-semibold mb-6 dark:text-[#E4E6EB]">
      En aprendizaje
    </h3>

    <div class="space-y-4">

      <div class="bg-[#F9FAFB] dark:bg-[#1A1F2E] border-2 border-[#E5E7EB] dark:border-[#2D3748] rounded-xl p-4 flex items-center justify-between">
        <span class="text-sm font-medium dark:text-[#E4E6EB]">
          Flutter
        </span>
        <span class="text-xs text-[#F59E0B] font-semibold">
          Learning
        </span>
      </div>

      <div class="bg-[#F9FAFB] dark:bg-[#1A1F2E] border-2 border-[#E5E7EB] dark:border-[#2D3748] rounded-xl p-4 flex items-center justify-between">
        <span class="text-sm font-medium dark:text-[#E4E6EB]">
          Kotlin Multiplatform (KMP)
        </span>
        <span class="text-xs text-[#F59E0B] font-semibold">
          Learning
        </span>
      </div>

      <div class="bg-[#F9FAFB] dark:bg-[#1A1F2E] border-2 border-[#E5E7EB] dark:border-[#2D3748] rounded-xl p-4 flex items-center justify-between">
        <span class="text-sm font-medium dark:text-[#E4E6EB]" data-i18n="certifications.english.title">
          Certificación de Inglés
        </span>
        <span class="text-xs text-[#F59E0B] font-semibold">
          Learning
        </span>
      </div>

      <div class="bg-[#F9FAFB] dark:bg-[#1A1F2E] border-2 border-[#E5E7EB] dark:border-[#2D3748] rounded-xl p-4 flex items-center justify-between">
        <span class="text-sm font-medium dark:text-[#E4E6EB]" data-i18n="certifications.estonian.title">
          Certificación de Estonio
        </span>
        <span class="text-xs text-[#F59E0B] font-semibold">
          Learning
        </span>
      </div>

    </div>
  </div>

</div>
  </div>
</section>

<script>
  import { translations, type Language } from '../i18n/translations';

  function getCurrentLanguage(): Language {
    const saved = localStorage.getItem('language');
    return (saved === 'en' || saved === 'es' || saved === 'et') ? saved : 'es';
  }

  function updateCertificationsTranslations() {
    const lang = getCurrentLanguage();
    const elements = document.querySelectorAll('#certifications [data-i18n]');

    elements.forEach(element => {
      const key = element.getAttribute('data-i18n');
      if (key && key in translations[lang]) {
        element.textContent = translations[lang][key as keyof typeof translations.es];
      }
    });
  }

  // Initialize on load
  updateCertificationsTranslations();

  // Listen for language changes
  window.addEventListener('languagechange', () => {
    updateCertificationsTranslations();
  });
</script>
